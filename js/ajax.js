"use strict";function ajax(e){if(!e.url)throw new Error("url必须传入");var t={data:{},type:"get",async:!0,dataType:"string",success:function(e){}};for(n in e)t[n]=e[n];var a="";if(t.data){for(var n in t.data)a+=n+"="+t.data[n]+"&";a=a.slice(0,-1)}var s=new XMLHttpRequest;"GET"===t.type.toUpperCase()?(t.url+="?"+a,s.open("get",t.url,t.async),s.send()):(s.open("post",t.url,t.async),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send(a)),s.onreadystatechange=function(){var e;4===s.readyState&&/^2\d{2}$/.test(s.status)&&(e=s.responseText,"JSON"===t.dataType.toUpperCase()&&(e=JSON.parse(e)),t.success(e))}}function pAjax(a){return new Promise(function(t,e){ajax({url:a.url,type:a.type||"GET",data:a.data||{},async:a.async||!0,dataType:a.dataType||"json",success:function(e){t(e)}})})}